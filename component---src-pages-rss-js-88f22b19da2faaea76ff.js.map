{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./src/pages/rss.js","webpack:///./node_modules/core-js/modules/es6.string.link.js"],"names":["$export","fails","defined","quot","createHTML","string","tag","attribute","value","S","String","p1","replace","module","exports","NAME","exec","O","P","F","test","toLowerCase","split","length","setLastUpdated","date","lastUpdated","document","getElementById","copy","Date","Number","setDate","getDate","innerHTML","toLocaleDateString","weekday","year","month","day","RssPage","useState","news","setNews","useEffect","a","axios","get","proxyurl","responseRSS","responseData","data","parser","DOMParser","xmlDoc","parseFromString","items","Array","from","getElementsByTagName","map","item","i","obj","title","description","link","pubDate","push","console","log","pageName","className","href","target","id","url","this"],"mappings":"8EAAA,IAAIA,EAAU,EAAQ,QAClBC,EAAQ,EAAQ,QAChBC,EAAU,EAAQ,QAClBC,EAAO,KAEPC,EAAa,SAAUC,EAAQC,EAAKC,EAAWC,GACjD,IAAIC,EAAIC,OAAOR,EAAQG,IACnBM,EAAK,IAAML,EAEf,MADkB,KAAdC,IAAkBI,GAAM,IAAMJ,EAAY,KAAOG,OAAOF,GAAOI,QAAQT,EAAM,UAAY,KACtFQ,EAAK,IAAMF,EAAI,KAAOH,EAAM,KAErCO,EAAOC,QAAU,SAAUC,EAAMC,GAC/B,IAAIC,EAAI,GACRA,EAAEF,GAAQC,EAAKZ,GACfJ,EAAQA,EAAQkB,EAAIlB,EAAQmB,EAAIlB,GAAM,WACpC,IAAImB,EAAO,GAAGL,GAAM,KACpB,OAAOK,IAASA,EAAKC,eAAiBD,EAAKE,MAAM,KAAKC,OAAS,KAC7D,SAAUN,K,ihBCZhB,SAASO,EAAeC,GACtB,IAAIC,EAAcC,SAASC,eAAe,eACpCC,EAAO,IAAIC,KAAKC,OAAON,IAC7BI,EAAKG,QAAQP,EAAKQ,WAOlBP,EAAYQ,UAAYL,EAAKM,mBAAmB,QAN/B,CACfC,QAAS,OACTC,KAAM,UACNC,MAAO,OACPC,IAAK,YA2EMC,UAtEC,WAAO,IAAD,EAEIC,mBAAS,MAA1BC,EAFa,KAEPC,EAFO,KA6BpB,OAtBEC,oBAAS,YAAC,sCAAAC,EAAA,sEACgBC,IAAMC,IAAIC,4EAD1B,OACJC,EADI,OAEJC,EAAeD,EAAYE,KAEjCC,EAAS,IAAIC,UACbC,EAASF,EAAOG,gBAAgBL,EAAa,YACzCM,EAAQC,MAAMC,KAAKJ,EAAOK,qBAAqB,SAC/CjB,EAAO,GACXc,EAAMI,KAAI,SAACC,EAAKC,GACZ,IAAIC,EAAM,GACVA,EAAIC,MAAQH,EAAKF,qBAAqB,SAAS,GAAGzB,UAClD6B,EAAIE,YAAcJ,EAAKF,qBAAqB,eAAe,GAAGzB,UAC9D6B,EAAIG,KAAOL,EAAKF,qBAAqB,QAAQ,GAAGzB,UAChD6B,EAAII,QAAUN,EAAKF,qBAAqB,WAAW,GAAGzB,UACtDQ,EAAK0B,KAAKL,MAEdM,QAAQC,IAAI5B,GAEZlB,EAAe,IAAIM,MACnBa,EAAQD,GAnBE,4CAoBV,IAGA,kBAAC,IAAD,CAAQ6B,SAAS,QACf,kBAAC,IAAD,KACE,uDAEF,yBAAKC,UAAU,OACf,yBAAKA,UAAU,aACf,+DACE,0CAAe,uBAAGC,KAAK,qCAAR,mBAAf,gMAEJ,yBAAKD,UAAU,kBACV9B,EAAOA,EAAKkB,KAAI,SAACC,GACd,OAAO,yBAAKW,UAAU,QACpB,yBAAKA,UAAU,cACb,uBAAGE,OAAO,SAASD,KAAMZ,EAAKK,MAAOL,EAAKG,QAE1C,6BACA,2BAAIH,EAAKI,aACT,uBAAGO,UAAU,QAAb,qBAAuCX,EAAKM,aAE/C,IAEP,yBAAKK,UAAU,oBACb,2CACe,0BAAMG,GAAG,gBAAsB,KAE9C,sCACW,IACT,uBACEF,KAAK,uCACLC,OAAO,UAFT,8B,kCCzEV,EAAQ,OAAR,CAA0B,QAAQ,SAAUtE,GAC1C,OAAO,SAAcwE,GACnB,OAAOxE,EAAWyE,KAAM,IAAK,OAAQD","file":"component---src-pages-rss-js-88f22b19da2faaea76ff.js","sourcesContent":["var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","import React, { useState, useEffect } from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport axios from \"axios\";\r\nimport Layout from \"components/Layout\";\r\n\r\nfunction setLastUpdated(date) {\r\n  let lastUpdated = document.getElementById(\"lastUpdated\");\r\n  const copy = new Date(Number(date));\r\n  copy.setDate(date.getDate());\r\n  const dOptions = {\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  };\r\n  lastUpdated.innerHTML = copy.toLocaleDateString(\"en-US\", dOptions);\r\n}\r\n\r\nconst RssPage = () => {\r\n\r\n  const [news, setNews] = useState(null);\r\n  const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n  const apiURL =\r\n    \"https://www.travel-advisory.info/rss\";\r\n  \r\n    useEffect(async()=>{\r\n    const responseRSS = await axios.get(proxyurl+apiURL);\r\n    const responseData = responseRSS.data;\r\n    var parser, xmlDoc;\r\n    parser = new DOMParser();\r\n    xmlDoc = parser.parseFromString(responseData,\"text/xml\");\r\n    let items = Array.from(xmlDoc.getElementsByTagName(\"item\"));\r\n    let news = [];\r\n    items.map((item,i)=>{\r\n        let obj = {}\r\n        obj.title = item.getElementsByTagName('title')[0].innerHTML;\r\n        obj.description = item.getElementsByTagName('description')[0].innerHTML;\r\n        obj.link = item.getElementsByTagName('link')[0].innerHTML;\r\n        obj.pubDate = item.getElementsByTagName('pubDate')[0].innerHTML;\r\n        news.push(obj);\r\n    })\r\n    console.log(news);\r\n    //set last updated data:\r\n    setLastUpdated(new Date());\r\n    setNews(news);\r\n  },[]);\r\n\r\n  return (\r\n    <Layout pageName=\"home\">\r\n      <Helmet>\r\n        <title>Travel Advisory RSS</title>\r\n      </Helmet>\r\n      <div className=\"rss\">\r\n      <div className=\"rssLegend\">\r\n      <h1>International Travel Advisories</h1>\r\n        <span>Each day <a href=\"https://www.travel-advisory.info/\">Travel Advisory</a> collects advisories from different authorities and compute a risk assessment for every country in the world. Use this data to prepare your travel plans and get a solid first impression. </span>\r\n      </div>\r\n    <div className=\"grid-container\">\r\n        {news?  news.map((item)=>{\r\n            return <div className=\"item\">\r\n              <div className=\"itemHeader\">\r\n                <a target=\"_blank\" href={item.link}>{item.title}</a>\r\n              </div>\r\n                <hr/>\r\n                <p>{item.description}</p>\r\n                <p className=\"date\">Publication date: {item.pubDate}</p>\r\n                </div>\r\n        }) : \"\"}\r\n    </div>\r\n      <div className=\"rssLegendSources\">\r\n        <p>\r\n          Last Updated:<span id=\"lastUpdated\"></span>{\" \"}\r\n        </p>\r\n        <p>\r\n          Sources:{\" \"}\r\n          <a\r\n            href=\"https://www.travel-advisory.info/rss\"\r\n            target=\"_blank\"\r\n          >\r\n            Travel Advisory.info\r\n          </a>\r\n        </p>\r\n      </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default RssPage;\r\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n"],"sourceRoot":""}